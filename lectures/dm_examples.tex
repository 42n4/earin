\documentclass[10pt,a4paper]{article} 
\usepackage{polski}
\usepackage[utf8]{inputenc}
\usepackage{anysize}
\usepackage{latexsym}
\usepackage{amssymb}
\usepackage{amsmath}
%\usepackage[dvips]{graphics}
\usepackage[dvips]{graphicx}
\usepackage[dvips]{pstcol}
%\usepackage{ifthen}       % From LaTeX distribution
\usepackage{subfigure}    % From CTAN/macros/latex/contrib/supported/subfigure
\usepackage{pst-all}      % From PSTricks
\usepackage{pst-poly}     % From pstricks/contrib/pst-poly
\usepackage{multido}      % From PSTricks
%\input{random.tex}        % From CTAN/macros/generic
\usepackage{rotate}
\usepackage{fancyhdr}
\usepackage{fancybox}

\def\printlandscape{\special{landscape}}    % Works with dvips.


\setlength{\columnsep}{0.25in}
\setlength{\headheight}{0mm}
\setlength{\headsep}{0mm}
\setlength{\footnotesep}{9pt}
%\setlength{\footskip}{-10mm}
\setlength{\hoffset}{-15mm} %% CHANGE THIS FOR YOUR PRINTER
\setlength{\voffset}{3mm} %% CHANGE THIS FOR YOUR PRINTER
\setlength{\itemsep}{0pt}
%\setlength{\oddsidemargin}{20mm}
%\setlength{\parindent}{0.175in}
\setlength{\parsep}{0pt}
\setlength{\parskip}{0pt}
\setlength{\partopsep}{0pt}
\setlength{\textheight}{265mm}
\setlength{\textwidth}{165mm}
\setlength{\topmargin}{-12mm}%% CHANGE THIS FOR YOUR PRINTER
\setlength{\topsep}{0mm}
\setlength{\topskip}{0mm}
\setlength{\footskip}{8mm}


\newcommand{\un}[1]{\underline{#1}}

\newcommand{\ov}[1]{\overline{#1}}

\newcommand{\arial}[1]{{\fontfamily{cmss}\selectfont #1}}

\newcommand{\faup}{\fontfamily{cmss}\fontshape{n}\selectfont}

\newcommand{\arit}[1]{\it{\arial{#1}\/}\faup}

\newcommand{\SA}[1]{$#1$\faup}

\newcommand{\Treebox}[1]{\Tr{\pscirclebox{#1}}}
\newcommand{\Treembox}[1]{\Tr{\ovalnode{B}{#1}}}

\baselineskip=6mm
\begin{document}

%\thispagestyle{empty}
%\pagestyle{empty}
\ \\
%\vfill
\Large
\begin{center}
{\sc Chosen data mining problems e.g. decision trees\/}
\ \\
\ \\
\Large
dr Piotr WÄ…siewicz
\end{center}
%\vfill
\large
\begin{enumerate}
\item From the training set shown below in the table with the help of top-down decision tree induction algorithm create a decision tree (use the entropy cost). The attribute age should be discretized using two threshholds 30 and 65 years. The attribute risk will be the label class. 
\begin{center}
{\sf
   \begin{tabular}{|p{3mm}||c|c||c|}
   \hline 
   $x$ & age & car & risk\\
   \hline
   \hline
    1 & 18 & mini & big \\
   \hline
    2 & 35 & mini & small\\
   \hline
    3 & 50 & racer & big\\
   \hline
    4 & 66 & van & big\\
   \hline
    5 & 18 & racer & big\\
   \hline
    6 & 35 & van & small\\
   \hline
    7 & 60 & mini & small \\
   \hline
    8 & 70 & racer & big\\
   \hline
    9 & 25 & van & small\\
   \hline
   \end{tabular}
}
\end{center}
\ \\
{\sc Solution:\\}
The attribute {\sf age} has three values after discretization:\\
$w_1$: $\mathsf{age} < 30$,
$w_2$: $\mathsf{age} \ge 30\land \mathsf{age}<65$,
$w_3$: $\mathsf{age} \ge 65$.\\
First the information of the whole set I(P) and attributes is calculated using the entropy impurity measures.\\
\ \\
$\displaystyle I(P)=-\frac{|P^{small}|}{|P|}\log_2(\frac{|P^{small}|}{|P|})-\frac{|P^{big}|}{|P|}\log_2(\frac{|P^{big}|}{|P|})=-\frac{4}{9}\log_2(\frac{4}{9})-\frac{5}{9}\log_2(\frac{5}{9})=0.991$,\\
$\displaystyle E_{\mathsf{age,w_1}}(P)=-\frac{|P_{\mathsf{age,w_1}}^{small}|}{|P_{\mathsf{age,w_1}}|}\log_2(\frac{|P^{small}_{\mathsf{age,w_1}}|}{|P_{\mathsf{age,w_1}}|})-\frac{|P^{big}_{\mathsf{age,w_1}}|}{|P_{\mathsf{age,w_1}}|}\log_2(\frac{|P^{big}_{\mathsf{age,w_1}}|}{|P_{\mathsf{age,w_1}}|})=-\frac{1}{3}\log_2(\frac{1}{3})-\frac{2}{3}\log_2(\frac{2}{3})=0.918$,\\
$\displaystyle E_{\mathsf{age,w_2}}(P)=-\frac{|P_{\mathsf{age,w_2}}^{small}|}{|P_{\mathsf{age,w_2}}|}\log_2(\frac{|P^{small}_{\mathsf{age,w_2}}|}{|P_{\mathsf{age,w_2}}|})-\frac{|P^{big}_{\mathsf{age,w_2}}|}{|P_{\mathsf{age,w_2}}|}\log_2(\frac{|P^{big}_{\mathsf{age,w_2}}|}{|P_{\mathsf{age,w_2}}|})=-\frac{3}{4}\log_2(\frac{3}{4})-\frac{1}{4}\log_2(\frac{1}{4})=0.811$,\\
$\displaystyle E_{\mathsf{age,w_3}}(P)=-\frac{|P_{\mathsf{age,w_3}}^{small}|}{|P_{\mathsf{age,w_3}}|}\log_2(\frac{|P^{small}_{\mathsf{age,w_3}}|}{|P_{\mathsf{age,w_3}}|})-\frac{|P^{big}_{\mathsf{age,w_3}}|}{|P_{\mathsf{age,w_3}}|}\log_2(\frac{|P^{big}_{\mathsf{age,w_3}}|}{|P_{\mathsf{age,w_3}}|})=-\frac{0}{2}\log_2(\frac{0}{2})-\frac{2}{2}\log_2(\frac{2}{2})=0$,\\
$\displaystyle E_{\mathsf{car,mini}}(P)=-\frac{|P_{\mathsf{car,mini}}^{small}|}{|P_{\mathsf{car,mini}}|}\log_2(\frac{|P^{small}_{\mathsf{car,mini}}|}{|P_{\mathsf{car,mini}}|})$-\\
$\displaystyle \frac{|P^{big}_{\mathsf{car,mini}}|}{|P_{\mathsf{car,mini}}|}\log_2(\frac{|P^{big}_{\mathsf{car,mini}}|}{|P_{\mathsf{car,mini}}|})=-\frac{2}{3}\log_2(\frac{2}{3})-\frac{1}{3}\log_2(\frac{1}{3})=0.918$,\\
$\displaystyle E_{\mathsf{car,van}}(P)=-\frac{|P_{\mathsf{car,van}}^{small}|}{|P_{\mathsf{car,van}}|}\log_2(\frac{|P^{small}_{\mathsf{car,van}}|}{|P_{\mathsf{car,van}}|})-$\\
$\displaystyle \frac{|P^{big}_{\mathsf{car,van}}|}{|P_{\mathsf{car,van}}|}\log_2(\frac{|P^{big}_{\mathsf{car,van}}|}{|P_{\mathsf{car,van}}|})=-\frac{2}{3}\log_2(\frac{2}{3})-\frac{1}{3}\log_2(\frac{1}{3})=0.918$,\\
$\displaystyle E_{\mathsf{car,racer}}(P)=-\frac{|P_{\mathsf{car,racer}}^{small}|}{|P_{\mathsf{car,racer}}|}\log_2(\frac{|P^{small}_{\mathsf{car,racer}}|}{|P_{\mathsf{car,racer}}|})-$\\
$\displaystyle \frac{|P^{big}_{\mathsf{car,racer}}|}{|P_{\mathsf{car,racer}}|}\log_2(\frac{|P^{big}_{\mathsf{car,racer}}|}{|P_{\mathsf{car,racer}}|})=-\frac{0}{3}\log_2(\frac{0}{3})-\frac{3}{3}\log_2(\frac{3}{3})=0$,\\
\ \\
Next the weighted entropies are obtained:\\
\ \\
$\displaystyle E_{\mathsf{age}}(P)=\frac{|P_{\mathsf{age,w_1}}|}{|P|}E_{\mathsf{age,w_1}}(P)+\frac{|P_{\mathsf{age,w_2}}|}{|P|}E_{\mathsf{age,w_2}}(P)+\frac{|P_{\mathsf{age,w_3}}|}{|P|}E_{\mathsf{age,w_3}}(P)=\frac{3}{9}(0.918)+\frac{4}{9}(0.811)+\frac{2}{9}0=0,666$,\\
$\displaystyle E_{\mathsf{car}}(P)=\frac{|P_{\mathsf{car,mini}}|}{|P|}E_{\mathsf{car,mini}}(P)+\frac{|P_{\mathsf{car,van}}|}{|P|}E_{\mathsf{car,van}}(P)+\frac{|P_{\mathsf{car,racer}}|}{|P|}E_{\mathsf{car,racer}}(P)=\frac{3}{9}(0.918)+\frac{3}{9}(0.918)+\frac{3}{9}0=0,612$,\\
\ \\
And all attributes information measures:\\
\ \\
$\displaystyle IV_{\mathsf{age}}(P)=-\frac{|P_{\mathsf{age,w_1}}|}{|P|}\log_2(\frac{|P_{\mathsf{age,w_1}}|}{|P|})-\frac{|P_{\mathsf{age,w_2}}|}{|P|}\log_2(\frac{|P_{\mathsf{age,w_2}}|}{|P|})-\frac{|P_{\mathsf{age,w_3}}|}{|P|}\log_2(\frac{|P_{\mathsf{age,w_3}}|}{|P|})=-\frac{3}{9}\log_2(\frac{3}{9})-\frac{4}{9}\log_2(\frac{4}{9})-\frac{2}{9}\log_2(\frac{2}{9})=0,528+0,519+0,482=1,53$,\\
$\displaystyle IV_{\mathsf{car}}(P)=-\frac{|P_{\mathsf{car,mini}}|}{|P|}\log_2(\frac{|P_{\mathsf{car,mini}}|}{|P|})-$\\
$\displaystyle \frac{|P_{\mathsf{car,van}}|}{|P|}\log_2(\frac{|P_{\mathsf{car,van}}|}{|P|})-\frac{|P_{\mathsf{car,racer}}|}{|P|}\log_2(\frac{|P_{\mathsf{car,racer}}|}{|P|})=$\\
$\displaystyle -\frac{3}{9}\log_2(\frac{3}{9})-\frac{3}{9}\log_2(\frac{3}{9})-\frac{3}{9}\log_2(\frac{3}{9})=0,528+0,528+0,528=1,584$,\\
\ \\
At last information increase coefficients:\\
\ \\
$\displaystyle \vartheta_{\mathsf{age}}(P)=\frac{I(P)-E_{\mathsf{age}}(P)}{IV_{\mathsf{age}}(P)}=\frac{0,991-0,666}{1,53}=0,212$\\
$\displaystyle \vartheta_{\mathsf{car}}(P)=\frac{I(P)-E_{\mathsf{car}}(P)}{IV_{\mathsf{car}}(P)}=\frac{0,991-0,612}{1,584}=0,239$\\
\ \\
\ \\
\psset{arrows=<-,levelsep=3.0cm,framearc=.1,treenodesize=1.0cm,treesep=.2cm}
\pstree{\Treebox{$car$}}{
\Treembox{$big$}\taput{$racer$}
\pstree[thistreesep=0.2cm, thislevelsep=4cm]{\Treebox{$age$}\tbput{$mini$}}
	{
	\Treembox{$big$}\taput{$w_1$}
	\Tn
	\Treembox{$small$}\tbput{$w_2\lor w_3$}
	}
\pstree[thistreesep=0.2cm, thislevelsep=4cm]{\Treebox{$age$}\tbput{$van$}}
	{
	\Treembox{$big$}\taput{$w_3$}
	\Tn
	\Treembox{$small$}\tbput{$w_1\lor w_2$}
	}
}

\ \\
The attribute {\sf car} has the biggest coefficient and wins to be the first node.\\
For its value {\sf racer} every example with this value has the label {\sf big} of the target {\sf risk}.

\end{enumerate}
%\vfill
\end{document}
